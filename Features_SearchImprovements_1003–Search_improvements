PROTOSPEC DOCUMENT

TOPIC:  US-06 1003 – Search improvements
This is a dumping grounds for specific customer-driven search and filtering improvements.

BUGZILLA:  452318, 472889, 483118, 481626


Developers: jmatthews,paji 


REVIEWED BY:  


PRODUCT:  

BUSINESS DEFINITION:

USE CASES:

Personas
Directors of IT and Sysadmins

Preconditions (assumptions)
Installed Satellite with out of date managed systems.

Main Flow / Description
 * Search for errata, filtering by the various identified types.
 * Apply the filtered results to selected systems.
 * Event history is not filterable. There is a deep desire to be able to filter based on results. E.g. Show me only failed actions on a system or set of systems. Which packages failed to install?
 * Extend “filter by synopsis” to all listings of errata, to include errata information for a specific system.
 * The final bugzilla surrounds gleaning information about updating systems, both singly and as a group.


OTHER FEATURE IMPACT:
 * RPM Package Set Transactions (from 472889) 


PROPOSED IMPLEMENTATION:


WORK ITEMS:
 * Fulfill the core goals of these bugzillas:

Requirements:
||Req #   || Description                                                        || bug # || Comments ||
||1003-00 || Filter errata so as to apply only filtered errata to a system || [https://bugzilla.redhat.com/show_bug.cgi?id=452318 bug 452318 ]|| Functionality implemented already, just needs CSV at: /rhn/systems/details/ErrataList.do ||
||1003-01 || Filter by events by package || [https://bugzilla.redhat.com/show_bug.cgi?id=472889 bug 472889]||  ||
||1003-02 || Filter by errata synopsis, and apply results to a group of systems || [https://bugzilla.redhat.com/show_bug.cgi?id=483118 bug 483118]|| Currently in perl (network/systems/ssm/errata/index.pxt).  Port to Java, add filter by type functionality and CSV ||
||1003-03 || Need to be able to monitor progress of errata updates on satellite to verify when they complete  || [https://bugzilla.redhat.com/show_bug.cgi?id=481626 bug 481626]||  ||


Details:
 452318 
  Description of problem:
  Would like the ability to selectively filter errata by type, and to apply 
  errata by type. This would allow an organization to only apply certain types of 
  patches (e.g. Security only). 

  For example, for a given system there would be a method to apply only RHSA 
  errata. The ability to export this list into a CSV file would be nice too. 
  Finally, a status report summary (exportable as well) of the patching process 
  would be a welcome addition. 


 472889
  User would like to know how they can filter the history of what package has been
  installed and what package failed to be installed.

  Customer would like to be able to filter RHN Events to search for failed
  package installations.  Currently, Event History is not filterable.


  This will allow finer grained control/visibility into system states
  regarding what needs to be upgraded.  Currently there is an all or nothing
  approach - if one package fails to install, the entire event fails.  The
  customer would like to see partial installations and failures.

  Currently, when building the transaction set, if one package fails to
  install the whole transaction won't install.  In order for the customer to
  filter the results, we would have to change how the transaction set is
  carried out.

  Instead of building a complete transaction set and then trying to install
  all at once - in which case one package with a missing dependency would
  cause the whole transaction set to fail - we would have to install one
  package and its dependencies at a time.  This would then allow for some
  installations/updates and some failures.

  At that point, Event History could then be filtered for package
  installation or failure.

 483118 
  Requests "Filter by Synposis" for viewing Errata under system profile.
  "System" -> "Click System Profile" -> "Software" -> "Errata"
  Desire "Filter by Synposis".  This has already been added as of 5.3.0 ISO 6/5/09 this is functional

  2nd request is for "Filter by Synposis" to be added to System Set Manager "Errata" when working with a group.
  As of 530 ISO 6/5/09, this functionality is lacking.

 481626
  Need to be able to monitor progress of errata updates on satellite to verify when they complete


RISKS:

TBD



