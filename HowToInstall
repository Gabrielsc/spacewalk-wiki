= Intro =

The below instructions are how to install Spacewalk into a Red Hat Enterprise Linux 5 server.  Future versions will include instructions and support for Fedora and other Linux variants.

= Oracle Pre-Requisites =

In order to get Spacewalk to run it needs to point itself at a Oracle 10g database server.  The easiest way todo this is to install Oracle XE.  Instructions on how todo this can be found here:

[OracleXeSetup Oracle XE Setup instructions]

= EPEL Repo setup =

Spacewalk requires a Java Virtual Machine with version 1.5.0 or greater.  [http://fedoraproject.org/wiki/EPEL EPEL - Extra Packages for Enterprise Linux] contains a version of the openjdk that works with spacewalk.  To get packages from EPEL just install this RPM:

{{{
rpm -Uvh http://download.fedora.redhat.com/pub/epel/5/i386/epel-release-5-2.noarch.rpm
}}}


= Installation =

RPM downloads of the project are available through a yum repository

  * http://spacewalk.redhat.com/yum

To use this repository, add a file in yum.repos.d with the following contents:

{{{
[spacewalk]
name=Spacewalk
baseurl=http://spacewalk.redhat.com/yum/rhel/$releasever/$basearch/
enabled=1
gpgcheck=1
}}}

Then just ask yum to install the application:

{{{
yum install spacewalk
}}}

This will pull down and install the set of RPMs required to get spacewalk to run.  You may get a conflict from '''rhns''' with specspo.  If so, just do a:

{{{
rpm -e specspo && yum install spacewalk
}}}

Once the spacewalk rpm is installed you need to configure the application.  Todo this run:

{{{
spacewalk-setup
}}}

This will prompt you for questions about your database configuration and spacewalk certificate location.

An example session is as follows:

{{{
TBD
}}}

After spacewalk-configure is complete your application is ready to go!

You can also find source RPMs and tarballs at the following URL:
   * http://spacewalk.redhat.com/source

= Current set of TODO/potholes =

Need these 2 environment variables:

{{{
# export ORACLE_HOME=/usr/lib/oracle/xe/app/oracle/product/10.2.0/server/
# export PATH=$PATH:/usr/lib/oracle/xe/app/oracle/product/10.2.0/server/bin/
}}}

Need this symlink after setting up Oracle.  We should put this in our oracle-compat RPM:

{{{
# cd /usr/lib/oracle && ln -s 10.2.0.4/ 10.2.0
}}}

ALternatively you can do (NOTE: this may not work, didn't seem to in my test - dgoodwin)

{{{
# echo "/usr/lib/oracle/10.2.0.4/client/lib" > /etc/ld.so.conf.d/oracle.conf 
# ldconfig
}}}


