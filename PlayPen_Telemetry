
== Telemetry ==

Telemetry is the code name for a simple template-based reporting engine for Spacewalk.  Telemetry uses the xmlrpc scripting [http://www.redhat.com/spacewalk/documentation/api/0.2/ API] to fetch data from Spacewalk servers.  It is written completely in Python, leveraging [http://www.cheetahtemplate.org/ Cheetah] for templating, cron for scheduling, and [http://www.djangoproject.com/ Django] for the webui.

=== Installation ===

'''Fedora 9'''

 * Django (webui)
 * Cheetah (report templating)

{{{
yum install Django python-cheetah
}}}

 * python-crontab

{{{
cd /tmp
wget http://pypi.python.org/packages/any/p/python-crontab/python-crontab-0.7.linux-i686.tar.gz#md5=10ce70d894d6d2b1bffd1a8a339e1ed4
tar -xvzf python-crontab-0.7.linux-i686.tar.gz -C /
}}}


 *Telemetry

{{{
rpm -Uhv http://tsanders.fedorapeople.org/telemetry-0.1-1.noarch.rpm
}}}


=== Sample Reports ===

Telemetry contains a few sample canned reports.  The reports are installed in ''/usr/share/telemetry''.

 * /scripts   -> contains the xmlrpc client reports scripts (these are executable on the cmd-line or via the Telemetry webui.
 * /config    -> contains the report configuration files.
 * /templates -> contains the output format templates.

The report configuration files will '''need''' to be updated with the proper url for your Spacewalk server(s).


{{{
cd /usr/share/telemetry/config
vi systemDetails.conf
}}}

{{{
Name: System Details Report
Description: This report provides a list of systems and supporting details (entitlements, channel subscriptions, & system groups.

Report_Script: systemDetailsReport.py

Satellites:
- http://rlx-1-16.rhndev.redhat.com/rpc/api  # Change this to point to the api url for your Spacewalk server(s). #

APIVersions:
- 5.1.0 Java
- 5.1.1 Java

Aggregate: no

Templates:
    txt: SystemDetails.txt

Report_Dir: /home/tsanders/telemetry/reports/
Report_Name: SystemDetails

}}}

'''Config Data Dictionary'''

<table>
</table>



=== Web UI ===

'''Starting'''

{{{
./telemetry runserver <port>
}}}

'''Browsing'''

Browse to the following URL: http://127.0.0.1/reports for the Report List.
