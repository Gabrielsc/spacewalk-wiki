= PostgreSQL Project =

== Overview ==

This project is focused on modifying Spacewalk to support both Oracle and PostgreSQL databases.

== Project Resources ==

=== Communication ===

 * Developer list: spacewalk-devel@redhat.com [https://www.redhat.com/mailman/listinfo/spacewalk-devel (signup)]
 * IRC: #spacewalk-devel on [http://freenode.net/ (irc.freenode.net)]

=== Contacts ===

 * Todd Sanders mailto:tsanders@redhat.com
 * Jeff Ortel mailto:jortel@redhat.com
 * Devin Goodwin mailto:dgoodwin@redhat.com
 * Bruce Momjian mailto:bruce@momjian.us
 * Jim Mlodgenski mailto:jim@enterprisedb.com

=== Approach ===

10k queries must be studied and perhaps modified.

Data Definition Language (DDL) will require separate versions for Oracle and Postgres, e.g.
CREATE TABLE, CREATE FUNCTION, CREATE INDEX.  These statements are centralized and change rarely so it is easy to maintain two versions.

Non-DDL queries must be managed differently.  Non-DDL queries will fall into four categories:
        1. work unchanged
        2. can be rewritten to work on both, e.g. ANSI joins, CURRENT_TIMESTAMP
        3. (same) but requires db changes, e.g. add compatibility functions like decode()
        4. need to create a Postgres-specific version of the query

This analysis is going to require major effort so it is best to handle it in stages:

        1.  Mark all queries via SQL comments?  '-- PGPORT myfile.pl:535 ?'.  This gives each query a unique identifier so it can be referenced in later stages.
        2.  Change the comment question mark to one of the four values listed above.
        3.  Create GIT branch
        4.  Rewrite # 2 to # 1.
        5.  Add db changes so # 3 can be converted to # 1
        6.  Develop and implement a system to allow for Postgres-specific versions of # 4 queries

=== Tracking ===

[PostgresIssues Project Issues]

[PostgresTasks Project Tasks]

=== Resources ===

Orafce http://pgfoundry.org/projects/orafce/

Ora2pg http://freshmeat.net/projects/ora2pg/

=== Porting Documentation ===

Porting Oracle Applications to PostgreSQL http://developer.postgresql.org/~petere/oraport.pdf

EnterpriseDB Oracle Compatibility Developer's Guide http://www.enterprisedb.com/downloads/docs/EnterpriseDB_OraCompat_8.3_v2.7.pdf

Migrating Oracle PL/SQL to PL/pgSQL http://www.pgadmin.org/docs/1.4/pg/plpgsql-porting.html

=== References ===
[PathToPostgreSql early research]