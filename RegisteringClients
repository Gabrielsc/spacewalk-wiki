= Registering Clients =

Instructions for registering client systems you wish to manage with Spacewalk

These are instruction for Spacewalk 0.8. 

Spacewalk 0.7 instructions are available at [wiki:RegisteringClients07]

----
= Before Starting =
  1. Create a base channel within Spacewalk (Channels > Manage Software Channels > Create New Channel)
  2. Create an activation key with the new base channel.

'''NOTE:''' rhnreg_ks is used for registration of clients to Spacewalk. If you need to re-register a client to your Spacewalk server or change registration from one environment or server to another Spacewalk server then use the --force flag with rhnreg_ks, otherwise there is no need to use --force with registration. 

'''NOTE:''' When creating a key, do not use the Generate function but create a human-readable version. eg: fedora-server-channel. This makes the whole more readable and provides more logics into the system.

= Fedora 11 =

 1. Install the Spacewalk client yum repository
   {{{
# rpm -Uvh http://spacewalk.redhat.com/yum/0.8/Fedora/11/$(uname -i)/spacewalk-client-repo-0.8-1.fc11.noarch.rpm
   }}}
 1. Install client packages
   {{{
# yum install rhn-client-tools rhn-check rhn-setup rhnsd m2crypto yum-rhn-plugin
   }}}
 1. Register your Fedora system to Spacewalk using the activation key you created earlier
   {{{
# rhnreg_ks --serverUrl=http://YourSpacewalk.example.org/XMLRPC --activationkey=<key-with-fedora-custom-channel> 
   }}}

= Fedora 12 =

  1. Install the Spacewalk yum repository
   {{{
# rpm -Uvh http://spacewalk.redhat.com/yum/0.8/Fedora/12/$(uname -i)/spacewalk-client-repo-0.8-1.fc12.noarch.rpm
   }}}
  1. Install client packages
    {{{
# yum install rhn-client-tools rhn-check rhn-setup rhnsd m2crypto yum-rhn-plugin
    }}}
  1. Register your Fedora system to Spacewalk using the activation key you created earlier
   {{{
# rhnreg_ks --serverUrl=http://YourSpacewalk.example.org/XMLRPC --activationkey=<key-with-fedora-custom-channel> 
   }}}

= CentOS 5 or Red Hat Enterprise Linux 5 =

  '''Warning:''' if you are installing these package in Red Hat Enterprise Linux it will override some base packages and you may lost support on these part.

  1. Install the Spacewalk yum repository
   {{{
# rpm -Uvh http://spacewalk.redhat.com/yum/0.8/RHEL/5/$(uname -i)/spacewalk-client-repo-0.8-1.el5.noarch.rpm
   }}}
  1. Install client packages
    {{{
# yum install rhn-client-tools rhn-check rhn-setup rhnsd m2crypto yum-rhn-plugin
    }}}
  1. Register your CentOS or Red Hat Enterprise Linux system to Spacewalk using the activation key you created earlier
   {{{
# rhnreg_ks --serverUrl=http://YourSpacewalk.example.org/XMLRPC --activationkey=<key-with-rhel-custom-channel> 
   }}}

= CentOS 4 =

Registering a CentOS 4 server to Spacewalk is exactly the same as it would be for CentOS 5, but rhnreg_ks, rhn_check and other related scripts are located in the package '''up2date''', and not in '''rhn-setup'''.

  1. Enable '''spacewalk-tools''' repo for Yum and install '''up2date''' package:
{{{
# rpm -ivh http://stahnma.fedorapeople.org/spacewalk-tools/spacewalk-client-tools-0.0-1.noarch.rpm
# yum install up2date
}}} 
  1. Register your CentOS system to Spacewalk using the activation key you created earlier:
{{{
# rhnreg_ks --serverUrl=http://YourSpacewalk.example.org/XMLRPC --activationkey=<key-with-centos-custom-channel>
}}}

= Solaris 8, 9 or 10 =

See [wiki:Solaris Solaris Support].