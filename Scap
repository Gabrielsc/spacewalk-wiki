= OpenSCAP =

SCAP provides standardized approach to maintaining the security of systems. Beside others, OpenSCAP tool can evaluate machine compliance with a given profile. For further information about OpenSCAP please navigate to project's [[http://www.open-scap.org/page/Main_Page|homepage]] or Fedora's feature [[https://fedoraproject.org/wiki/Features/OpenSCAP|page]]

== Spacewalk and OpenSCAP ==

Project to integrate OpenSCAP to Spacewalk has started.


With Spacewalk 1.7, user is able:
 * schedule XCCDF scan for a given machine through FrontendAPI
 * obtain summary of the scan results through spacewalk-reports tool.

== How to perform scan ==
 * Prerequisites:
   * For the server side: Spacewalk 1.7 or higher
   * For the client: spacewalk-oscap package from spacewalk-client repo
   * Distribute the XCCDF content to client machines (e.g by rpm)
 * Schedule scan through FrontendAPI (system.scap.scheduleXccdfScan)
   * The 'path' parameter point to content location on the client system.
   * The 'parameters' represents additional arguments for oscap tool, e.g d
 * Wait for action to be picked-up
 * Get results by spacewalk-reports tool.
   * # /usr/bin/spacewalk-reports system-history-scap
   * # /usr/bin/spacewalk-reports scap-scan
   * # /usr/bin/spacewalk-reports scap-scan-results

=== Example ===
The following is an example of python script which will schedule XCCDF scan for machine with sid=1000010001. The script assumes USGSB content in `/usr/local/share/scap/usgcb-rhel5desktop-xccdf.xml` on the client filesystem. Parameters indicate which profile is to be evaluated; it is `united_states_government_configuration_baseline`. The content used for this example can be found at [[http://usgcb.nist.gov/usgcb/content/scap/USGCB-rhel5desktop-1.0.5.0.zip|NIST]].
{{{
#!/usr/bin/python
client = xmlrpclib.Server('https://spacewalk.example.com/rpc/api')
key = client.auth.login('username', 'password')
client.system.scap.scheduleXccdfScan(key, 1000010001,
    '/usr/local/share/scap/usgcb-rhel5desktop-xccdf.xml',
    '--profile united_states_government_configuration_baseline')
}}}


